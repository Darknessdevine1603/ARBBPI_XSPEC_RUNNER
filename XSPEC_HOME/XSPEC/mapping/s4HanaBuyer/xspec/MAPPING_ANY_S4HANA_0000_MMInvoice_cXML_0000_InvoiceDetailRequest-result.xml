<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.jenitennison.com/xslt/xspec"
        xspec="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xspec"
        stylesheet="file:/Users/i320581/Documents/XSPEC_HOME/Buyer/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xsl"
        date="2023-04-27T15:49:31.799226+05:30">
   <scenario id="scenario1"
             xspec="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xspec">
      <label>S4 MM Invoice Request 1</label>
      <input-wrap xmlns="">
         <x:context xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/payloads/base/outbound/s4HanaBuyer/MMInvoice/MMInvoice1.xml"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <cXML payloadID="2023-04-27T15:49:32764+05:30"
                  timestamp="2023-04-27T15:49:32764+05:30">
               <Header>
                  <From>
                     <Credential domain="VendorID">
                        <Identity> 10300003</Identity>
                     </Credential>
                     <Credential domain="EndPointID">
                        <Identity>CIG</Identity>
                     </Credential>
                     <Correspondent>
                        <Contact role="correspondent">
                           <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                           <Email name="routing"> info@10300003.com</Email>
                        </Contact>
                     </Correspondent>
                  </From>
                  <To>
                     <Credential domain="SystemID">
                        <Identity>OLAS1</Identity>
                     </Credential>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                  </To>
                  <Sender>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                     <UserAgent>Ariba Supplier</UserAgent>
                  </Sender>
               </Header>
               <Request deploymentMode="test">
                  <InvoiceDetailRequest>
                     <InvoiceDetailRequestHeader invoiceID=" 5105601461"
                                                 purpose="standard"
                                                 operation="new"
                                                 invoiceDate=" 2021-06-28T12:00:00+0:00"
                                                 invoiceOrigin="supplier"
                                                 isERS="yes">
                        <InvoiceDetailHeaderIndicator/>
                        <InvoiceDetailLineIndicator/>
                        <InvoicePartner>
                           <Contact role="billTo" addressID=" 1010">
                              <Name xml:lang=" DE"> Company Code 1010 - Address Name 1</Name>
                              <PostalAddress>
                                 <Street> Dietmar-Hopp-Allee</Street>
                                 <City> Walldorf</City>
                                 <State> BW</State>
                                 <PostalCode> 69190</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="remitTo" addressID=" 10300003" addressIDDomain="billToID">
                              <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                              <PostalAddress>
                                 <Street> Messedamm</Street>
                                 <City> Berlin</City>
                                 <State> BE</State>
                                 <PostalCode> 14055</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                              <Email name="default"> info@10300003.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="from" addressID=" 10300003" addressIDDomain="billToID">
                              <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                              <PostalAddress>
                                 <Street> Messedamm</Street>
                                 <City> Berlin</City>
                                 <State> BE</State>
                                 <PostalCode> 14055</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                              <Email name="default"> info@10300003.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <PaymentInformation paymentNetDueDate=" 2021-06-30T12:00:00+0:00"/>
                        <Extrinsic name="buyerInvoiceID"> 5105601461</Extrinsic>
                        <Extrinsic name="CompanyCode"> 1010</Extrinsic>
                        <Extrinsic name="fiscalYear"> 2021</Extrinsic>
                        <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                        <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                        <Extrinsic name="ERS">Self-Billing</Extrinsic>
                     </InvoiceDetailRequestHeader>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID=" 4500041032"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailItem invoiceLineNumber=" 1" quantity=" 1.0">
                           <UnitOfMeasure>EA</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">37,564.02</Money>
                           </UnitPrice>
                           <InvoiceDetailItemReference lineNumber="00010">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                              <Description xml:lang="">Settlement for purchasing document  4500041032,  00010</Description>
                           </InvoiceDetailItemReference>
                           <SubtotalAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </SubtotalAmount>
                           <GrossAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </NetAmount>
                        </InvoiceDetailItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailSummary>
                        <SubtotalAmount>
                           <Money currency="EUR">37564.02</Money>
                        </SubtotalAmount>
                        <Tax>
                           <Money currency="EUR">7137.16</Money>
                           <Description xml:lang="DE"/>
                           <TaxDetail category="" percentageRate="">
                              <TaxableAmount>
                                 <Money currency="EUR"> 37564.02</Money>
                              </TaxableAmount>
                              <TaxAmount>
                                 <Money currency="EUR"> 7137.16</Money>
                              </TaxAmount>
                              <Description xml:lang=""/>
                           </TaxDetail>
                        </Tax>
                        <GrossAmount>
                           <Money currency="EUR"> 44701.18</Money>
                        </GrossAmount>
                        <NetAmount>
                           <Money currency="EUR"> 44701.18</Money>
                        </NetAmount>
                     </InvoiceDetailSummary>
                  </InvoiceDetailRequest>
               </Request>
            </cXML>
         </content-wrap>
      </result>
      <test id="scenario1-expect1" successful="false">
         <label>S4 MM Invoice Request 1</label>
         <expect select="/element()">
            <content-wrap xmlns="">
               <cXML payloadID="..." timestamp="...">
                  <Header>
                     <From>
                        <Credential domain="VendorID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="EndPointID">
                           <Identity>...</Identity>
                        </Credential>
                        <Correspondent>
                           <Contact role="correspondent">...</Contact>
                        </Correspondent>
                     </From>
                     <To>
                        <Credential domain="SystemID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                     </To>
                     <Sender>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                        <UserAgent>...</UserAgent>
                     </Sender>
                  </Header>
                  <Request deploymentMode="test">
                     <InvoiceDetailRequest>
                        <InvoiceDetailRequestHeader invoiceID=" 5105601461"
                                                    purpose="standard"
                                                    operation="new"
                                                    invoiceDate=" 2021-06-28T12:00:00+0:00"
                                                    invoiceOrigin="supplier"
                                                    isERS="yes">
                           <InvoiceDetailHeaderIndicator/>
                           <InvoiceDetailLineIndicator/>
                           <InvoicePartner>
                              <Contact role="billTo" addressID=" 1010">
                                 <Name xml:lang=" DE"> Company Code 1010 - Address Name 1</Name>
                                 <PostalAddress>
                                    <Street> Dietmar-Hopp-Allee</Street>
                                    <City> Walldorf</City>
                                    <State> BW</State>
                                    <PostalCode> 69190</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="remitTo" addressID=" 10300003" addressIDDomain="billToID">
                                 <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                                 <PostalAddress>
                                    <Street> Messedamm</Street>
                                    <City> Berlin</City>
                                    <State> BE</State>
                                    <PostalCode> 14055</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                                 <Email name="default"> info@10300003.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="from" addressID=" 10300003" addressIDDomain="billToID">
                                 <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                                 <PostalAddress>
                                    <Street> Messedamm</Street>
                                    <City> Berlin</City>
                                    <State> BE</State>
                                    <PostalCode> 14055</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                                 <Email name="default"> info@10300003.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <PaymentTerm payInNumberOfDays=""/>
                           <PaymentInformation paymentNetDueDate=" 2021-06-30T12:00:00+0:00"/>
                           <Extrinsic name="buyerInvoiceID"> 5105601461</Extrinsic>
                           <Extrinsic name="CompanyCode"> 1010</Extrinsic>
                           <Extrinsic name="fiscalYear"> 2021</Extrinsic>
                           <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                           <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                           <Extrinsic name="ERS">Self-Billing</Extrinsic>
                        </InvoiceDetailRequestHeader>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID=" 4500041032"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailItem invoiceLineNumber=" 1" quantity=" 1.0">
                              <UnitOfMeasure>EA</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">37,564.02</Money>
                              </UnitPrice>
                              <InvoiceDetailItemReference lineNumber="00010">
                                 <ItemID>
                                    <SupplierPartID/>
                                 </ItemID>
                                 <Description xml:lang="">...</Description>
                              </InvoiceDetailItemReference>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">...</Money>
                              </NetAmount>
                           </InvoiceDetailItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailSummary>
                           <SubtotalAmount>
                              <Money currency="EUR">37564.02</Money>
                           </SubtotalAmount>
                           <Tax>
                              <Money currency="EUR">7137.16</Money>
                              <Description xml:lang="DE"/>
                              <TaxDetail category="" percentageRate="">
                                 <TaxableAmount>
                                    <Money currency="EUR"> 37564.02</Money>
                                 </TaxableAmount>
                                 <TaxAmount>
                                    <Money currency="EUR"> 7137.16</Money>
                                 </TaxAmount>
                                 <Description xml:lang=""/>
                              </TaxDetail>
                           </Tax>
                           <GrossAmount>
                              <Money currency="EUR"> 44701.18</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR"> 44701.18</Money>
                           </NetAmount>
                        </InvoiceDetailSummary>
                     </InvoiceDetailRequest>
                  </Request>
               </cXML>
            </content-wrap>
         </expect>
      </test>
   </scenario>
   <scenario id="scenario2"
             xspec="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xspec">
      <label>Multiple Line Items</label>
      <input-wrap xmlns="">
         <x:context xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/payloads/base/outbound/s4HanaBuyer/MMInvoice/MM.xml"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <cXML payloadID="2023-04-27T15:49:32388+05:30"
                  timestamp="2023-04-27T15:49:32388+05:30">
               <Header>
                  <From>
                     <Credential domain="VendorID">
                        <Identity> 10300089</Identity>
                     </Credential>
                     <Credential domain="EndPointID">
                        <Identity>CIG</Identity>
                     </Credential>
                     <Correspondent>
                        <Contact role="correspondent">
                           <Name xml:lang=" EN"> Inlandslieferant DE (ARB Lean Srv)</Name>
                           <Email name="routing"> murali.subramanyabhat@sap.com</Email>
                        </Contact>
                     </Correspondent>
                  </From>
                  <To>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                  </To>
                  <Sender>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                     <UserAgent>Ariba Supplier</UserAgent>
                  </Sender>
               </Header>
               <Request deploymentMode="production">
                  <InvoiceDetailRequest>
                     <InvoiceDetailRequestHeader invoiceID=" 5105601470"
                                                 purpose="standard"
                                                 operation="new"
                                                 invoiceDate=" 2021-07-05T12:00:00+0:00"
                                                 invoiceOrigin="supplier"
                                                 isERS="yes">
                        <InvoiceDetailHeaderIndicator/>
                        <InvoiceDetailLineIndicator/>
                        <InvoicePartner>
                           <Contact role="billTo" addressID=" 1010">
                              <Name xml:lang=" DE"> Company Code 1010 - Address Name 1</Name>
                              <PostalAddress>
                                 <Street> Dietmar-Hopp-Allee</Street>
                                 <City> Walldorf</City>
                                 <State> BW</State>
                                 <PostalCode> 69190</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="remitTo" addressID=" 10300089" addressIDDomain="billToID">
                              <Name xml:lang=" EN"> Inlandslieferant DE (ARB Lean Srv)</Name>
                              <PostalAddress>
                                 <Street> Winter lane</Street>
                                 <City> Walldorf</City>
                                 <State> BW</State>
                                 <PostalCode> 69190</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                              <Email name="default"> murali.subramanyabhat@sap.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="from" addressID=" 10300089" addressIDDomain="billToID">
                              <Name xml:lang=" EN"> Inlandslieferant DE (ARB Lean Srv)</Name>
                              <PostalAddress>
                                 <Street> Winter lane</Street>
                                 <City> Walldorf</City>
                                 <State> BW</State>
                                 <PostalCode> 69190</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                              <Email name="default"> murali.subramanyabhat@sap.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <PaymentTerm payInNumberOfDays=" 14">
                           <Discount>
                              <DiscountPercent percent=" 3.0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentTerm payInNumberOfDays=" 20">
                           <Discount>
                              <DiscountPercent percent=" 2.0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentTerm payInNumberOfDays=" 30">
                           <Discount>
                              <DiscountPercent percent="0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentInformation paymentNetDueDate=" 2021-07-05T12:00:00+0:00"/>
                        <Extrinsic name="buyerInvoiceID"> 5105601470</Extrinsic>
                        <Extrinsic name="CompanyCode"> 1010</Extrinsic>
                        <Extrinsic name="fiscalYear"> 2021</Extrinsic>
                        <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                        <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                        <Extrinsic name="ERS">Self-Billing</Extrinsic>
                     </InvoiceDetailRequestHeader>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID=" 4500041107"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailServiceItem invoiceLineNumber=" 1" quantity=" 1.0">
                           <InvoiceDetailServiceItemReference lineNumber=" 00010">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                           </InvoiceDetailServiceItemReference>
                           <ServiceEntryItemIDInfo serviceLineNumber=" 0010" serviceEntryID=" 1575"/>
                           <SubtotalAmount>
                              <Money currency="EUR">
                    10.0</Money>
                           </SubtotalAmount>
                           <UnitOfMeasure>EA</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">10.00</Money>
                           </UnitPrice>
                           <GrossAmount>
                              <Money currency="EUR">
                    10.0</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">
                    10.0</Money>
                           </NetAmount>
                           <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                        </InvoiceDetailServiceItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID=" 4500041107"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailServiceItem invoiceLineNumber=" 2" quantity=" 1.0">
                           <InvoiceDetailServiceItemReference lineNumber=" 00010">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                           </InvoiceDetailServiceItemReference>
                           <ServiceEntryItemIDInfo serviceLineNumber=" 0010" serviceEntryID=" 1576"/>
                           <SubtotalAmount>
                              <Money currency="EUR">
                    10.0</Money>
                           </SubtotalAmount>
                           <UnitOfMeasure>EA</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">10.00</Money>
                           </UnitPrice>
                           <GrossAmount>
                              <Money currency="EUR">
                    10.0</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">
                    10.0</Money>
                           </NetAmount>
                           <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                        </InvoiceDetailServiceItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailSummary>
                        <SubtotalAmount>
                           <Money currency="EUR">20</Money>
                        </SubtotalAmount>
                        <Tax>
                           <Money currency="EUR">3.8</Money>
                           <Description xml:lang="EN"/>
                           <TaxDetail category="" percentageRate="">
                              <TaxableAmount>
                                 <Money currency="EUR"> 20.0</Money>
                              </TaxableAmount>
                              <TaxAmount>
                                 <Money currency="EUR"> 3.8</Money>
                              </TaxAmount>
                              <Description xml:lang=""/>
                           </TaxDetail>
                        </Tax>
                        <GrossAmount>
                           <Money currency="EUR"> 23.8</Money>
                        </GrossAmount>
                        <NetAmount>
                           <Money currency="EUR"> 23.8</Money>
                        </NetAmount>
                     </InvoiceDetailSummary>
                  </InvoiceDetailRequest>
               </Request>
            </cXML>
         </content-wrap>
      </result>
      <test id="scenario2-expect1" successful="false">
         <label>Multiple Line Items</label>
         <expect select="/element()">
            <content-wrap xmlns="">
               <cXML payloadID="..." timestamp="...">
                  <Header>
                     <From>
                        <Credential domain="VendorID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="EndPointID">
                           <Identity>...</Identity>
                        </Credential>
                        <Correspondent>
                           <Contact role="correspondent">...</Contact>
                        </Correspondent>
                     </From>
                     <To>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                     </To>
                     <Sender>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                        <UserAgent>...</UserAgent>
                     </Sender>
                  </Header>
                  <Request deploymentMode="production">
                     <InvoiceDetailRequest>
                        <InvoiceDetailRequestHeader invoiceID=" 5105601470"
                                                    purpose="standard"
                                                    operation="new"
                                                    invoiceDate=" 2021-07-05T12:00:00+0:00"
                                                    invoiceOrigin="supplier"
                                                    isERS="yes">
                           <InvoiceDetailHeaderIndicator/>
                           <InvoiceDetailLineIndicator/>
                           <InvoicePartner>
                              <Contact role="billTo" addressID=" 1010">
                                 <Name xml:lang=" DE"> Company Code 1010 - Address Name 1</Name>
                                 <PostalAddress>
                                    <Street> Dietmar-Hopp-Allee</Street>
                                    <City> Walldorf</City>
                                    <State> BW</State>
                                    <PostalCode> 69190</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="remitTo" addressID=" 10300089" addressIDDomain="billToID">
                                 <Name xml:lang=" EN"> Inlandslieferant DE (ARB Lean Srv)</Name>
                                 <PostalAddress>
                                    <Street> Winter lane</Street>
                                    <City> Walldorf</City>
                                    <State> BW</State>
                                    <PostalCode> 69190</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                                 <Email name="default"> murali.subramanyabhat@sap.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="from" addressID=" 10300089" addressIDDomain="billToID">
                                 <Name xml:lang=" EN"> Inlandslieferant DE (ARB Lean Srv)</Name>
                                 <PostalAddress>
                                    <Street> Winter lane</Street>
                                    <City> Walldorf</City>
                                    <State> BW</State>
                                    <PostalCode> 69190</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                                 <Email name="default"> murali.subramanyabhat@sap.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <PaymentTerm payInNumberOfDays=" 30"/>
                           <PaymentInformation paymentNetDueDate=" 2021-07-05T12:00:00+0:00"/>
                           <Extrinsic name="buyerInvoiceID"> 5105601470</Extrinsic>
                           <Extrinsic name="CompanyCode"> 1010</Extrinsic>
                           <Extrinsic name="fiscalYear"> 2021</Extrinsic>
                           <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                           <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                           <Extrinsic name="ERS">Self-Billing</Extrinsic>
                        </InvoiceDetailRequestHeader>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID=" 4500041107"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailServiceItem invoiceLineNumber=" 1" quantity=" 1.0">
                              <InvoiceDetailServiceItemReference lineNumber=" 00010">
                                 <ItemID>
                                    <SupplierPartID/>
                                 </ItemID>
                              </InvoiceDetailServiceItemReference>
                              <ServiceEntryItemIDInfo serviceLineNumber=" 0010" serviceEntryID=" 1575"/>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <UnitOfMeasure>EA</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">...</Money>
                              </UnitPrice>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">...</Money>
                              </NetAmount>
                              <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                           </InvoiceDetailServiceItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID=" 4500041107"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailServiceItem invoiceLineNumber=" 2" quantity=" 1.0">
                              <InvoiceDetailServiceItemReference lineNumber=" 00010">
                                 <ItemID>
                                    <SupplierPartID/>
                                 </ItemID>
                              </InvoiceDetailServiceItemReference>
                              <ServiceEntryItemIDInfo serviceLineNumber=" 0010" serviceEntryID=" 1576"/>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <UnitOfMeasure>EA</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">...</Money>
                              </UnitPrice>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">...</Money>
                              </NetAmount>
                              <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                           </InvoiceDetailServiceItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailSummary>
                           <SubtotalAmount>
                              <Money currency="EUR">20</Money>
                           </SubtotalAmount>
                           <Tax>
                              <Money currency="EUR">3.8</Money>
                              <Description xml:lang="EN"/>
                              <TaxDetail category="" percentageRate="">
                                 <TaxableAmount>
                                    <Money currency="EUR"> 20.0</Money>
                                 </TaxableAmount>
                                 <TaxAmount>
                                    <Money currency="EUR"> 3.8</Money>
                                 </TaxAmount>
                                 <Description xml:lang=""/>
                              </TaxDetail>
                           </Tax>
                           <GrossAmount>
                              <Money currency="EUR"> 23.8</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR"> 23.8</Money>
                           </NetAmount>
                        </InvoiceDetailSummary>
                     </InvoiceDetailRequest>
                  </Request>
               </cXML>
            </content-wrap>
         </expect>
      </test>
   </scenario>
   <scenario id="scenario3"
             xspec="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xspec">
      <label>ERP MM Multiple Taxes</label>
      <input-wrap xmlns="">
         <x:context xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/payloads/base/outbound/s4HanaBuyer/MMInvoice/MMInvoiceMultipleTaxes.xml"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <cXML payloadID="2023-04-27T15:49:32003+05:30"
                  timestamp="2023-04-27T15:49:32003+05:30">
               <Header>
                  <From>
                     <Credential domain="VendorID">
                        <Identity> 10300003</Identity>
                     </Credential>
                     <Credential domain="EndPointID">
                        <Identity>CIG</Identity>
                     </Credential>
                     <Correspondent>
                        <Contact role="correspondent">
                           <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                           <Email name="routing"> info@10300003.com</Email>
                        </Contact>
                     </Correspondent>
                  </From>
                  <To>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                  </To>
                  <Sender>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                     <UserAgent>Ariba Supplier</UserAgent>
                  </Sender>
               </Header>
               <Request deploymentMode="production">
                  <InvoiceDetailRequest>
                     <InvoiceDetailRequestHeader invoiceID=" 5105601698"
                                                 purpose="standard"
                                                 operation="new"
                                                 invoiceDate=" 2021-11-24T12:00:00+0:00"
                                                 invoiceOrigin="supplier"
                                                 isERS="yes">
                        <InvoiceDetailHeaderIndicator/>
                        <InvoiceDetailLineIndicator/>
                        <InvoicePartner>
                           <Contact role="billTo" addressID=" 1010">
                              <Name xml:lang=" DE"> Company Code 1010 - Address Name 1</Name>
                              <PostalAddress>
                                 <Street> Dietmar-Hopp-Allee</Street>
                                 <City> Walldorf</City>
                                 <State> BW</State>
                                 <PostalCode> 69190</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="remitTo" addressID=" 10300003" addressIDDomain="billToID">
                              <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                              <PostalAddress>
                                 <Street> Messedamm</Street>
                                 <City> Berlin</City>
                                 <State> BE</State>
                                 <PostalCode> 14055</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                              <Email name="default"> info@10300003.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="from" addressID=" 10300003" addressIDDomain="billToID">
                              <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                              <PostalAddress>
                                 <Street> Messedamm</Street>
                                 <City> Berlin</City>
                                 <State> BE</State>
                                 <PostalCode> 14055</PostalCode>
                                 <Country isoCountryCode=" DE"> DE</Country>
                              </PostalAddress>
                              <Email name="default"> info@10300003.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <PaymentInformation paymentNetDueDate=" 2021-11-30T12:00:00+0:00"/>
                        <Extrinsic name="buyerInvoiceID"> 5105601698</Extrinsic>
                        <Extrinsic name="CompanyCode"> 1010</Extrinsic>
                        <Extrinsic name="fiscalYear"> 2021</Extrinsic>
                        <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                        <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                        <Extrinsic name="ERS">Self-Billing</Extrinsic>
                     </InvoiceDetailRequestHeader>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID=" 4500041032"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailItem invoiceLineNumber=" 1" quantity=" 1.0">
                           <UnitOfMeasure>EA</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">37,564.02</Money>
                           </UnitPrice>
                           <InvoiceDetailItemReference lineNumber="00010">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                              <Description xml:lang="">Settlement for purchasing document  4500041032,  00010</Description>
                           </InvoiceDetailItemReference>
                           <SubtotalAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </SubtotalAmount>
                           <GrossAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </NetAmount>
                        </InvoiceDetailItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID=" 4500041032"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailItem invoiceLineNumber=" 2" quantity=" 1.0">
                           <UnitOfMeasure>EA</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">37,564.02</Money>
                           </UnitPrice>
                           <InvoiceDetailItemReference lineNumber="00020">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                              <Description xml:lang="">Settlement for purchasing document  4500041032,  00020</Description>
                           </InvoiceDetailItemReference>
                           <SubtotalAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </SubtotalAmount>
                           <GrossAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">
                    37564.02</Money>
                           </NetAmount>
                        </InvoiceDetailItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailSummary>
                        <SubtotalAmount>
                           <Money currency="EUR">75128.04</Money>
                        </SubtotalAmount>
                        <Tax>
                           <Money currency="EUR">9766.64</Money>
                           <Description xml:lang="DE"/>
                           <TaxDetail category="VAT" percentageRate="19">
                              <TaxableAmount>
                                 <Money currency="EUR"> 37564.02</Money>
                              </TaxableAmount>
                              <TaxAmount>
                                 <Money currency="EUR"> 7137.16</Money>
                              </TaxAmount>
                              <Description xml:lang=""/>
                           </TaxDetail>
                           <TaxDetail category="VAT" percentageRate="19">
                              <TaxableAmount>
                                 <Money currency="EUR"> 37564.02</Money>
                              </TaxableAmount>
                              <TaxAmount>
                                 <Money currency="EUR"> 2629.48</Money>
                              </TaxAmount>
                              <Description xml:lang=""/>
                           </TaxDetail>
                        </Tax>
                        <GrossAmount>
                           <Money currency="EUR"> 84894.68</Money>
                        </GrossAmount>
                        <NetAmount>
                           <Money currency="EUR"> 84894.68</Money>
                        </NetAmount>
                     </InvoiceDetailSummary>
                  </InvoiceDetailRequest>
               </Request>
            </cXML>
         </content-wrap>
      </result>
      <test id="scenario3-expect1" successful="false">
         <label>ERP MM Multiple Taxes</label>
         <expect select="/element()">
            <content-wrap xmlns="">
               <cXML payloadID="..." timestamp="...">
                  <Header>
                     <From>
                        <Credential domain="VendorID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="EndPointID">
                           <Identity>...</Identity>
                        </Credential>
                        <Correspondent>
                           <Contact role="correspondent">...</Contact>
                        </Correspondent>
                     </From>
                     <To>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                     </To>
                     <Sender>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                        <UserAgent>...</UserAgent>
                     </Sender>
                  </Header>
                  <Request deploymentMode="production">
                     <InvoiceDetailRequest>
                        <InvoiceDetailRequestHeader invoiceID=" 5105601698"
                                                    purpose="standard"
                                                    operation="new"
                                                    invoiceDate=" 2021-11-24T12:00:00+0:00"
                                                    invoiceOrigin="supplier"
                                                    isERS="yes">
                           <InvoiceDetailHeaderIndicator/>
                           <InvoiceDetailLineIndicator/>
                           <InvoicePartner>
                              <Contact role="billTo" addressID=" 1010">
                                 <Name xml:lang=" DE"> Company Code 1010 - Address Name 1</Name>
                                 <PostalAddress>
                                    <Street> Dietmar-Hopp-Allee</Street>
                                    <City> Walldorf</City>
                                    <State> BW</State>
                                    <PostalCode> 69190</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="remitTo" addressID=" 10300003" addressIDDomain="billToID">
                                 <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                                 <PostalAddress>
                                    <Street> Messedamm</Street>
                                    <City> Berlin</City>
                                    <State> BE</State>
                                    <PostalCode> 14055</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                                 <Email name="default"> info@10300003.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="from" addressID=" 10300003" addressIDDomain="billToID">
                                 <Name xml:lang=" DE"> Inlandslieferant DE 3 (mit ERS)</Name>
                                 <PostalAddress>
                                    <Street> Messedamm</Street>
                                    <City> Berlin</City>
                                    <State> BE</State>
                                    <PostalCode> 14055</PostalCode>
                                    <Country isoCountryCode=" DE"> DE</Country>
                                 </PostalAddress>
                                 <Email name="default"> info@10300003.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <PaymentTerm payInNumberOfDays=""/>
                           <PaymentInformation paymentNetDueDate=" 2021-11-30T12:00:00+0:00"/>
                           <Extrinsic name="buyerInvoiceID"> 5105601698</Extrinsic>
                           <Extrinsic name="CompanyCode"> 1010</Extrinsic>
                           <Extrinsic name="fiscalYear"> 2021</Extrinsic>
                           <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                           <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                           <Extrinsic name="ERS">Self-Billing</Extrinsic>
                        </InvoiceDetailRequestHeader>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID=" 4500041032"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailItem invoiceLineNumber=" 1" quantity=" 1.0">
                              <UnitOfMeasure>EA</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">37,564.02</Money>
                              </UnitPrice>
                              <InvoiceDetailItemReference lineNumber="00010">
                                 <ItemID>...</ItemID>
                                 <Description xml:lang="">...</Description>
                              </InvoiceDetailItemReference>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">...</Money>
                              </NetAmount>
                           </InvoiceDetailItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID=" 4500041032"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailItem invoiceLineNumber=" 2" quantity=" 1.0">
                              <UnitOfMeasure>EA</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">37,564.02</Money>
                              </UnitPrice>
                              <InvoiceDetailItemReference lineNumber="00020">
                                 <ItemID>...</ItemID>
                                 <Description xml:lang="">...</Description>
                              </InvoiceDetailItemReference>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">...</Money>
                              </NetAmount>
                           </InvoiceDetailItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailSummary>
                           <SubtotalAmount>
                              <Money currency="EUR">75128.04</Money>
                           </SubtotalAmount>
                           <Tax>
                              <Money currency="EUR">9766.64</Money>
                              <Description xml:lang="DE"/>
                              <TaxDetail category="VAT" percentageRate="19">
                                 <TaxableAmount>
                                    <Money currency="EUR"> 37564.02</Money>
                                 </TaxableAmount>
                                 <TaxAmount>
                                    <Money currency="EUR"> 7137.16</Money>
                                 </TaxAmount>
                                 <Description xml:lang=""/>
                              </TaxDetail>
                              <TaxDetail category="VAT" percentageRate="19">
                                 <TaxableAmount>
                                    <Money currency="EUR"> 37564.02</Money>
                                 </TaxableAmount>
                                 <TaxAmount>
                                    <Money currency="EUR"> 2629.48</Money>
                                 </TaxAmount>
                                 <Description xml:lang=""/>
                              </TaxDetail>
                           </Tax>
                           <GrossAmount>
                              <Money currency="EUR"> 84894.68</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR"> 84894.68</Money>
                           </NetAmount>
                        </InvoiceDetailSummary>
                     </InvoiceDetailRequest>
                  </Request>
               </cXML>
            </content-wrap>
         </expect>
      </test>
   </scenario>
   <scenario id="scenario4"
             xspec="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xspec">
      <label>ERP MM Invoice Request for Service Items</label>
      <input-wrap xmlns="">
         <x:context xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/payloads/base/outbound/s4HanaBuyer/MMInvoice/MMInvoiceServiceItem.xml"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <cXML payloadID="2023-04-27T15:49:32817+05:30"
                  timestamp="2023-04-27T15:49:32817+05:30">
               <Header>
                  <From>
                     <Credential domain="VendorID">
                        <Identity>10300089</Identity>
                     </Credential>
                     <Credential domain="EndPointID">
                        <Identity>CIG</Identity>
                     </Credential>
                     <Correspondent>
                        <Contact role="correspondent">
                           <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                           <Email name="routing">murali.subramanyabhat@sap.com</Email>
                        </Contact>
                     </Correspondent>
                  </From>
                  <To>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                  </To>
                  <Sender>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                     <UserAgent>Ariba Supplier</UserAgent>
                  </Sender>
               </Header>
               <Request deploymentMode="production">
                  <InvoiceDetailRequest>
                     <InvoiceDetailRequestHeader invoiceID="5105601463"
                                                 purpose="standard"
                                                 operation="new"
                                                 invoiceDate="2021-06-28T12:00:00+0:00"
                                                 invoiceOrigin="supplier"
                                                 isERS="yes">
                        <InvoiceDetailHeaderIndicator/>
                        <InvoiceDetailLineIndicator/>
                        <InvoicePartner>
                           <Contact role="billTo" addressID="1010">
                              <Name xml:lang="DE">Company Code 1010 - Address Name 1</Name>
                              <PostalAddress>
                                 <Street>Dietmar-Hopp-Allee</Street>
                                 <City>Walldorf</City>
                                 <State>BW</State>
                                 <PostalCode>69190</PostalCode>
                                 <Country isoCountryCode="DE">DE</Country>
                              </PostalAddress>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="remitTo" addressID="10300089" addressIDDomain="billToID">
                              <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                              <PostalAddress>
                                 <Street>Winter lane</Street>
                                 <City>Walldorf</City>
                                 <State>BW</State>
                                 <PostalCode>69190</PostalCode>
                                 <Country isoCountryCode="DE">DE</Country>
                              </PostalAddress>
                              <Email name="default">murali.subramanyabhat@sap.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="from" addressID="10300089" addressIDDomain="billToID">
                              <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                              <PostalAddress>
                                 <Street>Winter lane</Street>
                                 <City>Walldorf</City>
                                 <State>BW</State>
                                 <PostalCode>69190</PostalCode>
                                 <Country isoCountryCode="DE">DE</Country>
                              </PostalAddress>
                              <Email name="default">murali.subramanyabhat@sap.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <PaymentTerm payInNumberOfDays="14">
                           <Discount>
                              <DiscountPercent percent="3.0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentTerm payInNumberOfDays="20">
                           <Discount>
                              <DiscountPercent percent="2.0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentTerm payInNumberOfDays="30">
                           <Discount>
                              <DiscountPercent percent="0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentInformation paymentNetDueDate="2021-06-28T12:00:00+0:00"/>
                        <Extrinsic name="buyerInvoiceID">5105601463</Extrinsic>
                        <Extrinsic name="CompanyCode">1010</Extrinsic>
                        <Extrinsic name="fiscalYear">2021</Extrinsic>
                        <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                        <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                        <Extrinsic name="ERS">Self-Billing</Extrinsic>
                     </InvoiceDetailRequestHeader>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID="4500041035"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailServiceItem invoiceLineNumber="1" quantity="1.0">
                           <InvoiceDetailServiceItemReference lineNumber="00020">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                           </InvoiceDetailServiceItemReference>
                           <ServiceEntryItemIDInfo serviceLineNumber="0020" serviceEntryID="1566"/>
                           <SubtotalAmount>
                              <Money currency="EUR">50.0</Money>
                           </SubtotalAmount>
                           <UnitOfMeasure>HUR</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">50.00</Money>
                           </UnitPrice>
                           <GrossAmount>
                              <Money currency="EUR">50.0</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">50.0</Money>
                           </NetAmount>
                           <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                        </InvoiceDetailServiceItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailSummary>
                        <SubtotalAmount>
                           <Money currency="EUR">50</Money>
                        </SubtotalAmount>
                        <Tax>
                           <Money currency="EUR">0</Money>
                           <Description xml:lang="EN"/>
                           <TaxDetail category="" percentageRate="">
                              <TaxableAmount>
                                 <Money currency="EUR">50.0</Money>
                              </TaxableAmount>
                              <TaxAmount>
                                 <Money currency="EUR">0.0</Money>
                              </TaxAmount>
                              <Description xml:lang=""/>
                           </TaxDetail>
                        </Tax>
                        <GrossAmount>
                           <Money currency="EUR">50.0</Money>
                        </GrossAmount>
                        <NetAmount>
                           <Money currency="EUR">50.0</Money>
                        </NetAmount>
                     </InvoiceDetailSummary>
                  </InvoiceDetailRequest>
               </Request>
            </cXML>
         </content-wrap>
      </result>
      <test id="scenario4-expect1" successful="false">
         <label>ERP MM Invoice Request for Service Items</label>
         <expect select="/element()">
            <content-wrap xmlns="">
               <cXML payloadID="..." timestamp="...">
                  <Header>
                     <From>
                        <Credential domain="VendorID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="EndPointID">
                           <Identity>...</Identity>
                        </Credential>
                        <Correspondent>
                           <Contact role="correspondent">...</Contact>
                        </Correspondent>
                     </From>
                     <To>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                     </To>
                     <Sender>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                        <UserAgent>...</UserAgent>
                     </Sender>
                  </Header>
                  <Request deploymentMode="production">
                     <InvoiceDetailRequest>
                        <InvoiceDetailRequestHeader invoiceID="5105601463"
                                                    purpose="standard"
                                                    operation="new"
                                                    invoiceDate="2021-06-28T12:00:00+0:00"
                                                    invoiceOrigin="supplier"
                                                    isERS="yes">
                           <InvoiceDetailHeaderIndicator/>
                           <InvoiceDetailLineIndicator/>
                           <InvoicePartner>
                              <Contact role="billTo" addressID="1010">
                                 <Name xml:lang="DE">Company Code 1010 - Address Name 1</Name>
                                 <PostalAddress>
                                    <Street>Dietmar-Hopp-Allee</Street>
                                    <City>Walldorf</City>
                                    <State>BW</State>
                                    <PostalCode>69190</PostalCode>
                                    <Country isoCountryCode="DE">DE</Country>
                                 </PostalAddress>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="remitTo" addressID="10300089" addressIDDomain="billToID">
                                 <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                                 <PostalAddress>
                                    <Street>Winter lane</Street>
                                    <City>Walldorf</City>
                                    <State>BW</State>
                                    <PostalCode>69190</PostalCode>
                                    <Country isoCountryCode="DE">DE</Country>
                                 </PostalAddress>
                                 <Email name="default">murali.subramanyabhat@sap.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="from" addressID="10300089" addressIDDomain="billToID">
                                 <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                                 <PostalAddress>
                                    <Street>Winter lane</Street>
                                    <City>Walldorf</City>
                                    <State>BW</State>
                                    <PostalCode>69190</PostalCode>
                                    <Country isoCountryCode="DE">DE</Country>
                                 </PostalAddress>
                                 <Email name="default">murali.subramanyabhat@sap.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <PaymentTerm payInNumberOfDays="30"/>
                           <PaymentInformation paymentNetDueDate="2021-06-28T12:00:00+0:00"/>
                           <Extrinsic name="buyerInvoiceID">5105601463</Extrinsic>
                           <Extrinsic name="CompanyCode">1010</Extrinsic>
                           <Extrinsic name="fiscalYear">2021</Extrinsic>
                           <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                           <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                           <Extrinsic name="ERS">Self-Billing</Extrinsic>
                        </InvoiceDetailRequestHeader>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID="4500041035"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailServiceItem invoiceLineNumber="1" quantity="1.0">
                              <InvoiceDetailServiceItemReference lineNumber="00020">
                                 <ItemID>
                                    <SupplierPartID/>
                                 </ItemID>
                              </InvoiceDetailServiceItemReference>
                              <ServiceEntryItemIDInfo serviceLineNumber="0020" serviceEntryID="1566"/>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <UnitOfMeasure>HUR</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">...</Money>
                              </UnitPrice>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">50.0</Money>
                              </NetAmount>
                              <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                           </InvoiceDetailServiceItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailSummary>
                           <SubtotalAmount>
                              <Money currency="EUR">50</Money>
                           </SubtotalAmount>
                           <Tax>
                              <Money currency=" ">0</Money>
                              <Description xml:lang="EN"/>
                              <TaxDetail category="" percentageRate="">
                                 <TaxableAmount>...</TaxableAmount>
                                 <TaxAmount>...</TaxAmount>
                                 <Description xml:lang=""/>
                              </TaxDetail>
                           </Tax>
                           <GrossAmount>
                              <Money currency="EUR">50.0</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">50.0</Money>
                           </NetAmount>
                        </InvoiceDetailSummary>
                     </InvoiceDetailRequest>
                  </Request>
               </cXML>
            </content-wrap>
         </expect>
      </test>
   </scenario>
   <scenario id="scenario5"
             xspec="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/mapping/s4HanaBuyer/MAPPING_ANY_S4HANA_0000_MMInvoice_cXML_0000_InvoiceDetailRequest.xspec">
      <label>ERP MM Invoice Request for Service Items 2</label>
      <input-wrap xmlns="">
         <x:context xmlns:x="http://www.jenitennison.com/xslt/xspec"
                    href="file:/Users/i320581/Documents/XSPEC_HOME/XSPEC/payloads/base/outbound/s4HanaBuyer/MMInvoice/MMInvoiceServiceItem2.xml"/>
      </input-wrap>
      <result select="/element()">
         <content-wrap xmlns="">
            <cXML payloadID="2023-04-27T15:49:32914+05:30"
                  timestamp="2023-04-27T15:49:32914+05:30">
               <Header>
                  <From>
                     <Credential domain="VendorID">
                        <Identity>10300089</Identity>
                     </Credential>
                     <Credential domain="EndPointID">
                        <Identity>CIG</Identity>
                     </Credential>
                     <Correspondent>
                        <Contact role="correspondent">
                           <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                           <Email name="routing">murali.subramanyabhat@sap.com</Email>
                        </Contact>
                     </Correspondent>
                  </From>
                  <To>
                     <Credential domain="SystemID">
                        <Identity>OLAS1</Identity>
                     </Credential>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                  </To>
                  <Sender>
                     <Credential domain="NetworkID">
                        <Identity/>
                     </Credential>
                     <UserAgent>Ariba Supplier</UserAgent>
                  </Sender>
               </Header>
               <Request deploymentMode="production">
                  <InvoiceDetailRequest>
                     <InvoiceDetailRequestHeader invoiceID="5105601463"
                                                 purpose="standard"
                                                 operation="new"
                                                 invoiceDate="2021-06-28T12:00:00+0:00"
                                                 invoiceOrigin="supplier"
                                                 isERS="yes">
                        <InvoiceDetailHeaderIndicator/>
                        <InvoiceDetailLineIndicator/>
                        <InvoicePartner>
                           <Contact role="billTo" addressID="1010">
                              <Name xml:lang="DE">Company Code 1010 - Address Name 1</Name>
                              <PostalAddress>
                                 <Street>Dietmar-Hopp-Allee</Street>
                                 <City>Walldorf</City>
                                 <State>BW</State>
                                 <PostalCode>69190</PostalCode>
                                 <Country isoCountryCode="DE">DE</Country>
                              </PostalAddress>
                              <Phone>
                                 <TelephoneNumber>
                                    <CountryCode isoCountryCode="1"/>
                                    <AreaOrCityCode>314</AreaOrCityCode>
                                    <Number>777-9999</Number>
                                    <Extension>100</Extension>
                                 </TelephoneNumber>
                              </Phone>
                              <Fax>
                                 <TelephoneNumber>
                                    <CountryCode isoCountryCode="1"/>
                                    <AreaOrCityCode>314</AreaOrCityCode>
                                    <Number/>
                                    <Extension>100</Extension>
                                 </TelephoneNumber>
                              </Fax>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="remitTo" addressID="10300089" addressIDDomain="billToID">
                              <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                              <PostalAddress>
                                 <Street>Winter lane</Street>
                                 <City>Walldorf</City>
                                 <State>BW</State>
                                 <PostalCode>69190</PostalCode>
                                 <Country isoCountryCode="DE">DE</Country>
                              </PostalAddress>
                              <Email name="default">murali.subramanyabhat@sap.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <InvoicePartner>
                           <Contact role="from" addressID="10300089" addressIDDomain="billToID">
                              <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                              <PostalAddress>
                                 <Street>Winter lane</Street>
                                 <City>Walldorf</City>
                                 <State>BW</State>
                                 <PostalCode>69190</PostalCode>
                                 <Country isoCountryCode="DE">DE</Country>
                              </PostalAddress>
                              <Email name="default">murali.subramanyabhat@sap.com</Email>
                           </Contact>
                        </InvoicePartner>
                        <PaymentTerm payInNumberOfDays="14">
                           <Discount>
                              <DiscountPercent percent="3.0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentTerm payInNumberOfDays="20">
                           <Discount>
                              <DiscountPercent percent="2.0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentTerm payInNumberOfDays="30">
                           <Discount>
                              <DiscountPercent percent="0"/>
                           </Discount>
                        </PaymentTerm>
                        <PaymentInformation paymentNetDueDate="2021-06-28T12:00:00+0:00"/>
                        <Extrinsic name="buyerInvoiceID">5105601463</Extrinsic>
                        <Extrinsic name="CompanyCode">1010</Extrinsic>
                        <Extrinsic name="fiscalYear">2021</Extrinsic>
                        <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                        <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                        <Extrinsic name="ERS">Self-Billing</Extrinsic>
                     </InvoiceDetailRequestHeader>
                     <InvoiceDetailOrder>
                        <InvoiceDetailOrderInfo>
                           <OrderIDInfo orderID="4500041035"/>
                        </InvoiceDetailOrderInfo>
                        <InvoiceDetailServiceItem invoiceLineNumber="1" quantity="1.0">
                           <InvoiceDetailServiceItemReference lineNumber="00020">
                              <ItemID>
                                 <SupplierPartID/>
                              </ItemID>
                           </InvoiceDetailServiceItemReference>
                           <ServiceEntryItemIDInfo serviceLineNumber="0020" serviceEntryID="1566"/>
                           <SubtotalAmount>
                              <Money currency="EUR">50.0</Money>
                           </SubtotalAmount>
                           <UnitOfMeasure>HUR</UnitOfMeasure>
                           <UnitPrice>
                              <Money currency="EUR">50.00</Money>
                           </UnitPrice>
                           <GrossAmount>
                              <Money currency="EUR">50.0</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">50.0</Money>
                           </NetAmount>
                           <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                        </InvoiceDetailServiceItem>
                     </InvoiceDetailOrder>
                     <InvoiceDetailSummary>
                        <SubtotalAmount>
                           <Money currency="EUR">50</Money>
                        </SubtotalAmount>
                        <Tax>
                           <Money currency="EUR">0</Money>
                           <Description xml:lang="EN"/>
                           <TaxDetail category="" percentageRate="">
                              <TaxableAmount>
                                 <Money currency="EUR">50.0</Money>
                              </TaxableAmount>
                              <TaxAmount>
                                 <Money currency="EUR">0.0</Money>
                              </TaxAmount>
                              <Description xml:lang=""/>
                           </TaxDetail>
                        </Tax>
                        <GrossAmount>
                           <Money currency="EUR">50.0</Money>
                        </GrossAmount>
                        <NetAmount>
                           <Money currency="EUR">50.0</Money>
                        </NetAmount>
                     </InvoiceDetailSummary>
                  </InvoiceDetailRequest>
               </Request>
            </cXML>
         </content-wrap>
      </result>
      <test id="scenario5-expect1" successful="false">
         <label>ERP MM Invoice Request for Service Items 2</label>
         <expect select="/element()">
            <content-wrap xmlns="">
               <cXML payloadID="..." timestamp="...">
                  <Header>
                     <From>
                        <Credential domain="VendorID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="EndPointID">
                           <Identity>...</Identity>
                        </Credential>
                        <Correspondent>
                           <Contact role="correspondent">...</Contact>
                        </Correspondent>
                     </From>
                     <To>
                        <Credential domain="SystemID">
                           <Identity>...</Identity>
                        </Credential>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                     </To>
                     <Sender>
                        <Credential domain="NetworkID">
                           <Identity/>
                        </Credential>
                        <UserAgent>...</UserAgent>
                     </Sender>
                  </Header>
                  <Request deploymentMode="production">
                     <InvoiceDetailRequest>
                        <InvoiceDetailRequestHeader invoiceID="5105601463"
                                                    purpose="standard"
                                                    operation="new"
                                                    invoiceDate="2021-06-28T12:00:00+0:00"
                                                    invoiceOrigin="supplier"
                                                    isERS="yes">
                           <InvoiceDetailHeaderIndicator/>
                           <InvoiceDetailLineIndicator/>
                           <InvoicePartner>
                              <Contact role="billTo" addressID="1010">
                                 <Name xml:lang="DE">Company Code 1010 - Address Name 1</Name>
                                 <PostalAddress>
                                    <Street>Dietmar-Hopp-Allee</Street>
                                    <City>Walldorf</City>
                                    <State>BW</State>
                                    <PostalCode>69190</PostalCode>
                                    <Country isoCountryCode="DE">DE</Country>
                                 </PostalAddress>
                                 <Phone>
                                    <TelephoneNumber>
                                       <CountryCode isoCountryCode="1"/>
                                       <AreaOrCityCode>314</AreaOrCityCode>
                                       <Number>777-9999</Number>
                                       <Extension>100</Extension>
                                    </TelephoneNumber>
                                 </Phone>
                                 <Fax>
                                    <TelephoneNumber>
                                       <CountryCode isoCountryCode="1"/>
                                       <AreaOrCityCode>314</AreaOrCityCode>
                                       <Number/>
                                       <Extension>100</Extension>
                                    </TelephoneNumber>
                                 </Fax>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="remitTo" addressID="10300089" addressIDDomain="billToID">
                                 <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                                 <PostalAddress>
                                    <Street>Winter lane</Street>
                                    <City>Walldorf</City>
                                    <State>BW</State>
                                    <PostalCode>69190</PostalCode>
                                    <Country isoCountryCode="DE">DE</Country>
                                 </PostalAddress>
                                 <Email name="default">murali.subramanyabhat@sap.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <InvoicePartner>
                              <Contact role="from" addressID="10300089" addressIDDomain="billToID">
                                 <Name xml:lang="EN">Inlandslieferant DE (ARB Lean Srv)</Name>
                                 <PostalAddress>
                                    <Street>Winter lane</Street>
                                    <City>Walldorf</City>
                                    <State>BW</State>
                                    <PostalCode>69190</PostalCode>
                                    <Country isoCountryCode="DE">DE</Country>
                                 </PostalAddress>
                                 <Email name="default">murali.subramanyabhat@sap.com</Email>
                              </Contact>
                           </InvoicePartner>
                           <PaymentTerm payInNumberOfDays="30"/>
                           <PaymentInformation paymentNetDueDate="2021-06-28T12:00:00+0:00"/>
                           <Extrinsic name="buyerInvoiceID">5105601463</Extrinsic>
                           <Extrinsic name="CompanyCode">1010</Extrinsic>
                           <Extrinsic name="fiscalYear">2021</Extrinsic>
                           <Extrinsic name="invoiceSourceDocument">PurchaseOrder</Extrinsic>
                           <Extrinsic name="invoiceSubmissionMethod">Online</Extrinsic>
                           <Extrinsic name="ERS">Self-Billing</Extrinsic>
                        </InvoiceDetailRequestHeader>
                        <InvoiceDetailOrder>
                           <InvoiceDetailOrderInfo>
                              <OrderIDInfo orderID="4500041035"/>
                           </InvoiceDetailOrderInfo>
                           <InvoiceDetailServiceItem invoiceLineNumber="1" quantity="1.0">
                              <InvoiceDetailServiceItemReference lineNumber="00020">
                                 <ItemID>
                                    <SupplierPartID/>
                                 </ItemID>
                              </InvoiceDetailServiceItemReference>
                              <ServiceEntryItemIDInfo serviceLineNumber="0020" serviceEntryID="1566"/>
                              <SubtotalAmount>
                                 <Money currency="EUR">...</Money>
                              </SubtotalAmount>
                              <UnitOfMeasure>HUR</UnitOfMeasure>
                              <UnitPrice>
                                 <Money currency="EUR">...</Money>
                              </UnitPrice>
                              <GrossAmount>
                                 <Money currency="EUR">...</Money>
                              </GrossAmount>
                              <NetAmount>
                                 <Money currency="EUR">50.0</Money>
                              </NetAmount>
                              <Extrinsic name="punchinItemFromCatalog">no</Extrinsic>
                           </InvoiceDetailServiceItem>
                        </InvoiceDetailOrder>
                        <InvoiceDetailSummary>
                           <SubtotalAmount>
                              <Money currency="EUR">50</Money>
                           </SubtotalAmount>
                           <Tax>
                              <Money currency=" ">0</Money>
                              <Description xml:lang="EN"/>
                              <TaxDetail category="" percentageRate="">
                                 <TaxableAmount>...</TaxableAmount>
                                 <TaxAmount>...</TaxAmount>
                                 <Description xml:lang=""/>
                              </TaxDetail>
                           </Tax>
                           <GrossAmount>
                              <Money currency="EUR">50.0</Money>
                           </GrossAmount>
                           <NetAmount>
                              <Money currency="EUR">50.0</Money>
                           </NetAmount>
                        </InvoiceDetailSummary>
                     </InvoiceDetailRequest>
                  </Request>
               </cXML>
            </content-wrap>
         </expect>
      </test>
   </scenario>
</report>
